{% extends 'base.html' %}

{% block contenido %}
<style>
    body {
        background-color: #f8f9fa;
    }

    h1 {
        margin-top: 20px;
        margin-bottom: 20px;
        text-align: center;
    }

    h2 {
        margin-top: 20px;
        margin-bottom: 20px;
        color: #343a40;
    }

    .table thead th {
        background-color: #343a40;
        color: #fff;
    }

    .table tbody tr:nth-child(odd) {
        background-color: #f2f2f2;
    }

    .table tbody tr:hover {
        background-color: #e9ecef;
    }

    .artist-list,
    .artwork-list,
    .cart {
        margin-bottom: 30px;
    }

    button.btn-primary {
        background-color: #343a40;
        border-color: #343a40;
    }

    .weather-widget {
        background-color: #fff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        text-align: center;
        width: 300px;
        position: relative;
        margin: 0 auto;
        /* Añade este estilo para centrar horizontalmente */
    }

    .weather-widget h1 {
        margin: 10px 0;
        font-size: 24px;
    }

    .weather-widget p {
        margin: 5px 0;
        font-size: 18px;
    }

    .ad-banner {
        background-color: black;
        color: white;
        text-align: center;
        padding: 10px;
        font-size: 16px;
        font-weight: bold;
        width: 100%;
    }
</style>
<h1>Home</h1>
<p class="text-center">Bienvenido a la página principal.</p>
<div class="d-flex flex-wrap justify-content-around">
    <!--Card de Miguel Angel-->
    <div class="card text-bg-dark mb-3" style="max-width: 18rem;">
        <img src="imagenes/miguel.jpg" class="card-img-top" alt="miguel">
        <div class="card-body">
            <h5 class="card-title">Miguel Angel</h5>
            <p class="card-text">Miguel Ángel, fue un arquitecto, escultor, pintor y poeta italiano renacentista,
                considerado uno de los más grandes artistas de la historia tanto por sus esculturas como por sus
                pinturas y obra arquitectónica.</p>
            <button type="button" class="btn btn-secondary" data-bs-toggle="popover" title="Datos" data-bs-content="
                    ¿Sabías que esculpió dos de sus obras más conocidas, la Piedad y el David, antes de los 30 años? ,
                    nacio un 6/3/1475 y murio un 18/2/1564,
                    Se pintó a sí mismo,
                    ¿Sabías que estuvo trabajando hasta casi el mismo día que murió?,
                    ¿Sabías que se le daba muy bien la poesía?">
                Ver datos
            </button>
            <a href="miguelangel.html" class="btn btn-primary" target="_blank">Ver más</a>
        </div>
    </div>
    <!--Card de Vincent van Gogh-->
    <div class="card text-bg-dark mb-3" style="max-width: 18rem;">
        <img src="imagenes/Vincent_van_Goghfoto.jpg" class="card-img-top" alt="van Gogh">
        <div class="card-body">
            <h5 class="card-title">Vincent van Gogh</h5>
            <p class="card-text">Vincent van Gogh fue un artista postimpresionista holandés cuyos cuadros
                se cuentan entre los más populares y reconocibles de la historia. Su pincelada dramática, su
                exuberante
                paleta y su maestría para captar momentos en el tiempo y la luz revolucionaron el arte.</p>
            <button type="button" class="btn btn-secondary" data-bs-toggle="popover" title="Datos" data-bs-content="nacio un 30/3/1853 y murio un 29/71890,
                    se Inspiraba de la culta Oriente,
                    creaba una nueva obra cada 36 horas,
                    Él era su propio modelo,
                    Se cortó la oreja izquierda a raíz de una discusión con Gauguin">
                Ver datos
            </button>
            <a href="Vincent_van_Gogh.html" class="btn btn-primary" target="_blank">Ver más</a>
        </div>
    </div>
    <!--Card de Frida Kahlo-->
    <div class="card text-bg-dark mb-3" style="max-width: 18rem;">
        <img src="imagenes/KAHLOESPANO2305-articleLarge-v13.webp" class="card-img-top" alt="Frida Kahlo">
        <div class="card-body">
            <h5 class="card-title">Frida Kahlo</h5>
            <p class="card-text">Frida Kahlo fue una pintora mexicana, reconocida por sus famosos autorretratos,
                calificados como parte del movimiento surrealista. La pintora, quien dijo no identificarse con el
                movimiento,
                creó un estilo propio tomando los aspectos de su vida, mezclándolos con los elementos de la
                naturaleza y la identidad mexicana.</p>
            <button type="button" class="btn btn-secondary" data-bs-toggle="popover" title="Datos" data-bs-content="No estudió nada relacionado al arte,
                    Su apariencia fue un representante de la cultura pop,
                    se caso 2 veces con Diego Rivera,
                    Frida y Diegose refugiaron a Leon Trotski,
                    nacio un 6/7/1907 y murio un 13/7/1954">
                Ver datos
            </button>
            <a href="frida.html" class="btn btn-primary" target="_blank">Ver más</a>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-6">
        <div class="artist-list">
            <h2>Listado de Artistas</h2>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Descripción</th>
                        <th>Fecha</th>
                    </tr>
                </thead>
                <tbody>
                    {% for artista in artistas %}
                    <tr>
                        <td>{{ artista.nombre }}</td>
                        <td>{{ artista.descripcion }}</td>
                        <td>{{ artista.fecha }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div class="col-md-6">
        <div class="artwork-list">
            <h2>Listado de Obras de Arte</h2>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Descripción</th>
                        <th>Artista</th>
                        <th>Precio</th>
                        <th>Fecha de Creación</th>
                    </tr>
                </thead>
                <tbody>
                    {% for obra in obras %}
                    <tr>
                        <td>{{ obra.nombre }}</td>
                        <td>{{ obra.descripcion }}</td>
                        <td>{{ obra.artista.nombre }}</td>
                        <td>{{ obra.precio }}</td>
                        <td>{{ obra.fecha }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<div class="cart">
    <h2>Carrito de Compras</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Descripción</th>
                <th>Artista</th>
                <th>Precio</th>
                <th>Cantidad</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for obra in obras %}
            <tr>
                <td>{{ obra.nombre }}</td>
                <td>{{ obra.descripcion }}</td>
                <td>{{ obra.artista.nombre }}</td>
                <td>{{ obra.precio }}</td>
                <td>
                    <input type="number" name="cantidad" value="1" min="1" class="form-control">
                </td>
                <td>
                    <!-- <button class="btn btn-primary" onclick="agregarAlCarrito({{obra.id}})">Agregar</button> -->
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<!-- #Clima Publicidad -->
<div class="weather-widget">
    <div class="ad-banner">Publicidad</div>
    <h1>Clima en Viña del Mar, Chile</h1>
    <p id="temperature">Cargando...</p>
    <p id="description">Cargando...</p>
</div>

<script>
    const apiKey = '262b06162ba3443aa2d44752241505';
    const city = 'Viña del Mar';
    const apiUrl = `https://api.weatherapi.com/v1/current.json?key=${apiKey}&q=${city}&lang=es`;

    fetch(apiUrl)
        .then(response => {
            if (!response.ok) {
                throw new Error(`Error HTTP: ${response.status}`);
            }
            return response.json();
        })
        .then(data => {
            const temperature = data.current.temp_c;
            const description = data.current.condition.text;
            document.getElementById('temperature').textContent = `Temperatura: ${temperature}°C`;
            document.getElementById('description').textContent = `Descripción: ${description}`;
        })
        .catch(error => {
            document.getElementById('temperature').textContent = 'No se pudo cargar el clima';
            document.getElementById('description').textContent = 'Por favor, inténtelo más tarde';
            console.error('Error al obtener los datos del clima:', error);
        });
</script>
<footer class="text-light bg-dark pt-4">
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <h5>Horario</h5>
                <ul class="list-unstyled">
                    <li>Martes a domingo, 8 a 23 horas</li>
                    <li>Cerrado todos los lunes y feriados irrenunciables</li>
                </ul>
            </div>
            <div class="col-md-4">
                <h5>Ubicación</h5>
                <p>Pradera de la Cruz<br>Santiago, Chile</p>
            </div>
            <div class="col-md-4">
                <h5>Contacto</h5>
                <p>+56 938157795<br>informaciones@museonacional.cl</p>
                <h5>Síguenos</h5>
            </div>
        </div>
    </div>
</footer>
{% endblock %}


<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>

<script>
    // Inicializar todos los popovers en la página
    var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
    var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
        return new bootstrap.Popover(popoverTriggerEl)
    })
</script>
<script>
    function agregarAlCarrito(obraId) {
        alert('Obra ' + obraId + ' agregada al carrito.');
    }
</script>